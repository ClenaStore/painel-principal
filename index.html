<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>CB Systems - In√≠cio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <link rel="icon" type="image/png" href="https://static.wixstatic.com/media/d830b0_8cec50a98bbf4775814dbfa5386585e8~mv2.png" />
  <style>
    html, body {
      height: 100%;
      overflow: scroll;
      scrollbar-width: none;
    }
    body::-webkit-scrollbar { display: none; }

    body {
      background: #0a0a0a;
      color: #00bfff;
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
    }

    header {
      position: fixed;
      top: 0; left: 0; right: 0;
      z-index: 1000;
      padding: 15px 20px;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      background-color: #000;
      border-bottom: 1px solid #00bfff;
    }

    .logo { display: flex; align-items: center; }
    header img { height: 40px; filter: brightness(0) invert(1); }

    nav { display: flex; flex-wrap: wrap; gap: 15px; align-items: center; }
    nav a {
      color: #00bfff;
      text-decoration: none;
      font-weight: bold;
      font-size: 0.95em;
    }
    nav a:hover { color: #fff; }

    .login-btn {
      padding: 6px 14px;
      border: 1px solid #00bfff;
      border-radius: 8px;
      color: #00bfff;
      background: transparent;
      cursor: pointer;
      transition: 0.3s;
    }
    .login-btn:hover {
      background: #00bfff33;
      box-shadow: 0 0 10px #00bfff;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 100px 20px 40px;
      text-align: center;
    }

    .banner {
      max-width: 100%;
      height: auto;
      border: 2px solid #00bfff;
      border-radius: 12px;
      box-shadow: 0 0 20px #00bfff33;
      margin: 0 auto 30px;
      position: relative;
      overflow: hidden;
    }
    .banner-desktop {
      aspect-ratio: 12 / 5;
      background-image: url('https://github.com/ClenaStore/painel-principal/blob/main/img/Design%20sem%20nome%20(11).png?raw=true');
      background-size: cover;
      background-position: center;
    }
    .banner-mobile {
      display: none;
      background-image: url('https://github.com/ClenaStore/painel-principal/blob/main/img/CLENA.COM.BR.png?raw=true');
      background-size: cover;
      background-position: center;
      aspect-ratio: 12 / 9;
    }
    .banner-cards {
      position: absolute;
      bottom: 20px;
      left: 20px;
      display: flex;
      gap: 12px;
    }
    .banner-card {
      background-color: #000000cc;
      border: 1px dashed #00bfff;
      border-radius: 10px;
      padding: 15px 10px;
      width: 120px;
      text-align: center;
      color: #fff;
      transition: 0.3s;
      box-shadow: 0 0 10px #00bfff44;
    }
    .banner-card:hover {
      background-color: #00bfff22;
      transform: scale(1.05);
    }
    .banner-card span { font-size: 1.5em; display: block; margin-bottom: 5px; }
    .banner-card .card-title { font-size: 0.9em; font-weight: bold; color: #00bfff; }

    .mobile-only { display: none; }
    @media (max-width: 600px) {
      .container { padding-top: 120px; }
      header { flex-direction: column; align-items: flex-start; }
      nav { width: 100%; padding-top: 10px; }
      .banner-desktop { display: none; }
      .banner-mobile { display: block; }
      .mobile-only { display: block; }
    }

    /* Popup Login */
    .popup-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.7);
      justify-content: center;
      align-items: center;
      z-index: 2000;
    }
    .popup {
      background: #111;
      padding: 20px;
      border-radius: 10px;
      border: 1px solid #00bfff;
      box-shadow: 0 0 15px #00bfff;
      width: 300px;
      text-align: center;
    }
    .popup h2 { color: #00bfff; margin-bottom: 15px; }
    .popup input {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 6px;
      border: none;
      background: #eaeef5;
    }
    .password-container { position: relative; }
    .toggle-password {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      cursor: pointer;
      color: #555;
    }
    .popup button {
      width: 100%;
      padding: 10px;
      background: #00bfff;
      border: none;
      color: white;
      font-weight: bold;
      border-radius: 6px;
      cursor: pointer;
    }
    .popup button:hover { background: #0099cc; }
    .popup .error { color: red; font-size: 0.9em; margin-top: 8px; }
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <img src="https://static.wixstatic.com/media/d830b0_8cec50a98bbf4775814dbfa5386585e8~mv2.png" alt="Logo CB Systems">
    </div>
    <nav>
      <a href="index.html">In√≠cio</a>
      <a href="servicos.html">Servi√ßos</a>
      <a href="orcamento.html">Or√ßamento</a>
      <a href="sistemas.html">Sistemas</a>
      <a href="duvidas.html">D√∫vidas</a>
      <button class="login-btn" onclick="abrirLogin()">Login</button>
    </nav>
  </header>

  <div class="container">
    <div class="banner banner-desktop">
      <div class="banner-cards">
        <a href="mei.html"><div class="banner-card"><span>üíº</span><div class="card-title">MEI</div></div></a>
        <a href="promocoes.html"><div class="banner-card"><span>üè∑Ô∏è</span><div class="card-title">Promo√ß√µes</div></div></a>
        <a href="indicados.html"><div class="banner-card"><span>ü§ù</span><div class="card-title">Indica√ß√£o</div></div></a>
        <a href="teste.html"><div class="banner-card"><span>‚è≥</span><div class="card-title">Teste gr√°tis</div></div></a>
      </div>
    </div>
  </div>

  <!-- Popup Login -->
  <div class="popup-overlay" id="popupLogin">
    <div class="popup">
      <h2>Bem-vindo √† CB Systems</h2>
      <input type="text" id="usuario" placeholder="Usu√°rio" />
      <div class="password-container">
        <input type="password" id="senha" placeholder="Senha" />
        <span class="toggle-password" onclick="togglePassword()">üëÅ</span>
      </div>
      <label><input type="checkbox" id="remember"> Lembrar senha</label>
      <button onclick="login()">Entrar</button>
      <div class="error" id="errorMsg"></div>
    </div>
  </div>

<script>
  const popup = document.getElementById("popupLogin");
  function abrirLogin(){ popup.style.display = "flex"; }
  function togglePassword(){
    const pass = document.getElementById("senha");
    pass.type = pass.type === "password" ? "text" : "password";
  }
  document.addEventListener("keydown", e=>{
    if(e.key==="Enter" && popup.style.display==="flex"){ login(); }
  });
  async function login(){
    const usuario = document.getElementById("usuario").value.trim();
    const senha = document.getElementById("senha").value.trim();
    const errorMsg = document.getElementById("errorMsg");
    errorMsg.textContent = "";
    try{
      const res = await fetch("/api/login",{
        method:"POST",
        headers:{ "Content-Type":"application/json" },
        body: JSON.stringify({ usuario, senha })
      });
      if(!res.ok) throw new Error("Falha na conex√£o");
      const data = await res.json();
      if(data.sucesso){
        if(usuario.toLowerCase() === "mercatto") window.location.href = "painel-mercatto.html";
        else if(usuario.toLowerCase() === "villa") window.location.href = "painel-villa.html";
        else if(usuario.toLowerCase() === "padaria") window.location.href = "painel-padaria.html";
        else window.location.href = "painel.html";
      }
      else{ errorMsg.textContent = "Usu√°rio ou senha inv√°lidos!"; }
    }catch(err){
      errorMsg.textContent = "Erro ao conectar ao servidor!";
    }
  }
</script>
</body>
</html>
